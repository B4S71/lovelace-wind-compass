{"version":3,"file":"squircle-clock-card.js","sources":["../src/squircle-clock-card.ts"],"sourcesContent":[null],"names":["CARD_SCHEMA","name","label","selector","select","mode","options","value","SquircleClockCard","HTMLElement","constructor","this","_ticks","_lastMin","_lastSecond","getConfigElement","document","createElement","getStubConfig","type","display_mode","font_style","hass","_hass","setConfig","config","shadowRoot","_render","_drawContent","getLayoutOptions","grid_rows","grid_columns","grid_min_rows","grid_min_columns","connectedCallback","attachShadow","_startClock","_resizeObserver","ResizeObserver","observe","disconnectedCallback","_stopClock","disconnect","_timer","cancelAnimationFrame","update","now","Date","displayTime","timezone","timezone_entity","entity","states","state","tzString","toLocaleString","timeZone","setMilliseconds","getMilliseconds","e","_updateDigital","_updateAnalog","requestAnimationFrame","_getPointOnRoundedRect","angleDeg","w","h","radius","inset","angleRad","Math","PI","xCenter","yCenter","width","max","height","r","halfW","halfH","absCos","abs","cos","x","y","sin","sign","tan","innerW","innerH","dx","dy","dist","sqrt","_getFontStyle","innerHTML","container","getElementById","rect","getBoundingClientRect","minDim","min","style","window","getComputedStyle","rVal","parseFloat","borderTopLeftRadius","includes","_drawAnalog","_drawDigital","ticks","i","isHour","angle","p2","p1","color","sw","nPos","hourHand","querySelector","minuteHand","secondHand","_center","_timeDisplay","_dateDisplay","push","tzTime","time","s","getSeconds","m","getMinutes","getHours","setAttribute","force","seconds","hours","String","padStart","minutes","textContent","localeOptions","weekday","day","toLocaleDateString","classList","remove","add","SquircleClockEditor","_config","_form","schema","computeLabel","addEventListener","ev","_valueChanged","appendChild","data","newConfig","detail","event","CustomEvent","bubbles","composed","dispatchEvent","customElements","define","customCards","preview","description"],"mappings":"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"}