console.info("%c HeatingCoolingCard Loaded ","color: white; background: #ff6b6b; font-weight: bold;");class t extends HTMLElement{constructor(){super(...arguments),this._currentTemp=0,this._heatSetpoint=0,this._coolSetpoint=0,this._unit="°C",this._minTemp=15,this._maxTemp=30}static getConfigElement(){return document.createElement("heating-cooling-editor")}static getStubConfig(){return{type:"custom:heating-cooling-card",entity:"climate.living_room",title:"Climate Control",min_temp:15,max_temp:30}}set hass(t){this._hass=t,this._updateCard()}setConfig(t){if(!t.entity)throw new Error("entity is required");this.config=t,this._minTemp=t.min_temp??15,this._maxTemp=t.max_temp??30,this._render()}connectedCallback(){this._render(),this._resizeObserver||(this._resizeObserver=new ResizeObserver(()=>{this._render()}),this._resizeObserver.observe(this))}disconnectedCallback(){this._resizeObserver&&this._resizeObserver.disconnect()}_updateCard(){if(!this._hass||!this.config)return;const t=this._hass.states[this.config.entity];if(!t)return;const e=t.attributes;this._currentTemp=parseFloat(t.state)||0,this._heatSetpoint=e.target_temp_low??e.target_temperature??20,this._coolSetpoint=e.target_temp_high??e.target_temperature??24,this._unit=this.config.unit??e.unit_of_measurement??"°C",this._render()}_render(){this.shadowRoot||this.attachShadow({mode:"open"});this.shadowRoot.innerHTML=this._getTemplate(),this._updateVisualization()}_updateVisualization(){const t=this.shadowRoot?.querySelector("svg");if(!t)return;const e=t.getBoundingClientRect(),i=e.width,n=e.height,r=n/2,o=Math.min(80,n-40),s=i/(this._maxTemp-this._minTemp),a=(this._heatSetpoint-this._minTemp)*s,l=t.querySelector("#blue-bar");l&&(l.setAttribute("x","0"),l.setAttribute("y",String(r-o/2)),l.setAttribute("width",String(Math.max(0,a))),l.setAttribute("height",String(o)));const h=(this._maxTemp-this._coolSetpoint)*s,d=t.querySelector("#red-bar");d&&(d.setAttribute("x",String(Math.max(0,i-h))),d.setAttribute("y",String(r-o/2)),d.setAttribute("width",String(Math.max(0,h))),d.setAttribute("height",String(o)));const c=a,m=Math.max(0,i-a-h),u=t.querySelector("#green-zone");u&&(u.setAttribute("x",String(c)),u.setAttribute("y",String(r-o/2)),u.setAttribute("width",String(m)),u.setAttribute("height",String(o)));const g=(this._currentTemp-this._minTemp)*s,x=t.querySelector("#current-indicator");x&&(x.setAttribute("x1",String(g)),x.setAttribute("y1",String(r-o/2-10)),x.setAttribute("x2",String(g)),x.setAttribute("y2",String(r+o/2+10)));const b=this.shadowRoot?.querySelector("#heat-label");b&&(b.textContent=`Heat: ${this._heatSetpoint.toFixed(1)}${this._unit}`);const p=this.shadowRoot?.querySelector("#cool-label");p&&(p.textContent=`Cool: ${this._coolSetpoint.toFixed(1)}${this._unit}`);const f=this.shadowRoot?.querySelector("#current-label");f&&(f.textContent=`Current: ${this._currentTemp.toFixed(1)}${this._unit}`);const _=this.shadowRoot?.querySelector("#comfort-label");if(_){const t=this._coolSetpoint-this._heatSetpoint;_.textContent=`Comfort Zone: ${t.toFixed(1)}${this._unit}`}}_getTemplate(){return`\n      <style>\n        :host {\n          display: block;\n          padding: 16px;\n          background: var(--ha-card-background, #1a1a1a);\n          border-radius: 12px;\n          font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;\n          color: var(--ha-text-color, #fff);\n        }\n\n        .card-title {\n          font-size: 20px;\n          font-weight: 600;\n          margin-bottom: 16px;\n          text-align: center;\n        }\n\n        .visualization {\n          display: flex;\n          flex-direction: column;\n          align-items: center;\n          gap: 16px;\n        }\n\n        svg {\n          width: 100%;\n          height: auto;\n          max-width: 500px;\n          background: var(--ha-card-border-color, rgba(255,255,255,0.05));\n          border-radius: 8px;\n          padding: 20px 10px;\n        }\n\n        .labels {\n          display: grid;\n          grid-template-columns: 1fr 1fr 1fr 1fr;\n          gap: 12px;\n          width: 100%;\n          max-width: 500px;\n          font-size: 13px;\n          text-align: center;\n        }\n\n        .label-item {\n          padding: 8px;\n          border-radius: 6px;\n          background: rgba(255,255,255,0.05);\n        }\n\n        .label-item.heat {\n          border-left: 3px solid #4a90e2;\n        }\n\n        .label-item.cool {\n          border-left: 3px solid #ff6b6b;\n        }\n\n        .label-item.current {\n          border-left: 3px solid #ffd700;\n        }\n\n        .label-item.comfort {\n          border-left: 3px solid #51cf66;\n        }\n      </style>\n\n      <div class="card-title">${this.config.title||"Climate Control"}</div>\n      \n      <div class="visualization">\n        <svg viewBox="0 0 400 200" xmlns="http://www.w3.org/2000/svg">\n          \x3c!-- Blue bar (heating, from left) --\x3e\n          <rect id="blue-bar" x="0" y="60" width="0" height="80" \n                fill="#4a90e2" opacity="0.8" rx="4"/>\n          \n          \x3c!-- Green zone (comfort/deadzone) --\x3e\n          <rect id="green-zone" x="0" y="60" width="0" height="80" \n                fill="#51cf66" opacity="0.6" rx="4"/>\n          \n          \x3c!-- Red bar (cooling, from right) --\x3e\n          <rect id="red-bar" x="400" y="60" width="0" height="80" \n                fill="#ff6b6b" opacity="0.8" rx="4"/>\n          \n          \x3c!-- Temperature scale lines --\x3e\n          <line x1="0" y1="145" x2="0" y2="155" \n                stroke="rgba(255,255,255,0.3)" stroke-width="1"/>\n          <line x1="400" y1="145" x2="400" y2="155" \n                stroke="rgba(255,255,255,0.3)" stroke-width="1"/>\n          \n          \x3c!-- Scale text --\x3e\n          <text x="0" y="165" text-anchor="middle" font-size="11" \n                fill="rgba(255,255,255,0.6)">${this._minTemp}${this._unit}</text>\n          <text x="400" y="165" text-anchor="middle" font-size="11" \n                fill="rgba(255,255,255,0.6)">${this._maxTemp}${this._unit}</text>\n          \n          \x3c!-- Current temperature indicator --\x3e\n          <line id="current-indicator" x1="0" y1="50" x2="0" y2="150" \n                stroke="#ffd700" stroke-width="3" opacity="0.9"/>\n          <circle cx="0" cy="100" r="5" fill="#ffd700" opacity="0.9"/>\n        </svg>\n\n        <div class="labels">\n          <div class="label-item heat">\n            <div id="heat-label">Heat: 20.0°C</div>\n          </div>\n          <div class="label-item current">\n            <div id="current-label">Current: 21.5°C</div>\n          </div>\n          <div class="label-item cool">\n            <div id="cool-label">Cool: 24.0°C</div>\n          </div>\n          <div class="label-item comfort">\n            <div id="comfort-label">Comfort: 3.0°C</div>\n          </div>\n        </div>\n      </div>\n    `}}customElements.define("custom:heating-cooling-card",t);
//# sourceMappingURL=heating-cooling-card.js.map
